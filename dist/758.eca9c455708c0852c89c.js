"use strict";(self.webpackChunkcomplex_react_app=self.webpackChunkcomplex_react_app||[]).push([[758],{758:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(294),s=a(387),n=a(250),r=a(655),c=a(861),o=a(62),u=a(259),m=a(210),i=a(564),d=a(983);const h=function(){const e=(0,n.s0)(),t=(0,l.useContext)(i.Z),a=(0,l.useContext)(d.Z),{id:h}=(0,n.UO)(),[p,f]=(0,l.useState)(!0),[E,w]=(0,l.useState)();if((0,l.useEffect)((()=>{const e=c.Z.CancelToken.source();return async function(){try{const t=await c.Z.get(`/post/${h}`,{cancelToken:e.token});w(t.data),f(!1)}catch(e){console.log("There was a problem or the request was cancelled.")}}(),()=>{e.cancel()}}),[h]),!p&&!E)return l.createElement(m.Z,null);if(p)return l.createElement(s.Z,{title:"..."},l.createElement(o.Z,null));const y=new Date(E.createdDate),g=`${y.getMonth()+1}/${y.getDate()}/${y.getFullYear()}`;return l.createElement(s.Z,{title:E.title},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,E.title),!!t.loggedIn&&t.user.username==E.author.username&&l.createElement("span",{class:"pt-2"},l.createElement(r.rU,{to:`/post/${E._id}/edit`,className:"text-primary mr-2",title:"Edit"},l.createElement("i",{className:"fas fa-edit"}))," ",l.createElement("a",{onClick:async function(){if(window.confirm("Do you really want to delete this post?"))try{"Success"==(await c.Z.delete(`/post/${h}`,{data:{token:t.user.token}})).data&&(a({type:"flashMessage",value:"Post was successfully deleted."}),e(`/profile/${t.user.username}`))}catch(e){console.log("There was a problem.")}},className:"delete-post-button text-danger",title:"Delete"},l.createElement("i",{className:"fas fa-trash"})))),l.createElement("p",{className:"text-muted small mb-4"},l.createElement(r.rU,{to:`/profile/${E.author.username}`},l.createElement("img",{className:"avatar-tiny",src:E.author.avatar})),"Posted by"," ",l.createElement(r.rU,{to:`/profile/${E.author.username}`},E.author.username)," ",g),l.createElement("div",{className:"body-content"},l.createElement(u.D,{children:E.body,allowedElements:["p","br","strong","em","h1","h2","h3","h4","h5","h6","ul","ol","li"]})))}}}]);